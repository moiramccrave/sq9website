<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>@SQ9: an MIT DUSP 11.458 project</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- D3 -->
  <script src="https://d3js.org/d3.v5.min.js"></script>

  <!-- Heat map -->
  <script src="./moment.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@4"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Lato|Montserrat" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="css/agency.css" rel="stylesheet">

  <style type="text/css" media="screen">
  body {
    width:100%;
    overflow-x:hidden;
  }
#vis {
  position:relative;
}
.background{
position:absolute;
left:0 ;
top:0;
}
.marks {
  z-index:2;
  position: absolute;

}
.time{
  font-family:"Montserrat","Lato",sans-serif;
  font-size:1.2rem;
  font-weight:600;
  text-align:center;
  margin-top:1rem;
}
details {
  display: none;
}
#vis canvas {
  transform:translateX(-50%);
}
    </style>

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
      <h2 class="navbar-brand brand-name">
        <a href="index.html"><img class="img-responsive2"
        src="img/logos/logo1.png">
      </h2>
      <a class="navbar-brand js-scroll-trigger" href="#page-top"></a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#about">About</a>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#datacollection">Data Collection</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#dataviz">Data Visualization</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#portfolio">Features</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#schedule">Schedule</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#team">Team</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#contact">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="masthead">
    <div class="container">
      <div class="intro-text">
        <div class="intro-lead-in"></div>
      </div>
    </div>
  </header>

  <!-- About-->
  <section id="about">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">About @SQ9</h2>
          <h3 class="section-subheading text-muted"></h3>
        </div>
      </div>
      <div class="row text-left">
        <div class="col-md-6">
          <h4 class="service-heading">What is @SQ9?</h4>
          <p class="text-muted">What makes a successful public space? @SQ9 is a pop-up event organized by MIT Class 11.458, <i>Crowd Sourced City: Civic Tech Prototyping</i>, that seeks to measure how physical interventions can activate and improve public spaces. From May 7th to May 10th, the plaza in front of MIT Building 9 will be transformed by furniture, paint, and plants. Throughout the week, digital technology will be used to provide data-driven analysis on best practices for public space programming. </p>
          <h4 class="service-heading"> How will @SQ9 use collected data?</h4>
          <p class="text-muted">@SQ9 is tracking place, not people. We are are not collecting any personal information, and all of the data that we do collect is aggregated and not personally identifiable. All video recordings will be captured from an aerial view, and image processing performed will be unable to conduct facial recognition. No voice or audio recordings will be made. If you have any questions or privacy concerns, please contact the @SQ9 team at sq9@mit.edu. </p>
         </div>
    <div class="col-md-6">
      <br>
      <br>
      <br>
        <br>
            <img class="img-fluid d-block mx-auto" src="img/dataviz/building9edit.jpg" alt="" align= "right">
    </div>
  </section>

  <!-- Data Collection -->
  <section id="datacollection">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Data Collection</h2>
          <h3 class="section-subheading text-muted">How will the @SQ9 team collect data? Sensors will be used to measure how effective physical interventions were in activating @SQ9 as a public space.</h3>
        </div>
      </div>
      <div class="row text-center">
        <div class="col-md-4">
          <div class="col-md-12">
          <span class="fa-stack fa-4x">
            <i class="fas fa-circle fa-stack-2x text-primary"></i>
            <i class="fas fa-wifi fa-stack-1x fa-inverse"></i><i class="fas fa-wifi"></i>
          </span>
          <h4 class="service-heading">Wifi Sensing</h4>
          <p class="row text-left"> With the help of Raspberry Pis installed across the Building 9 plaza, WiFi will be used to sense the MAC addresses of nearby smartphones, thereby determining the presence of a person visiting @SQ9. By aggregating this data, the @SQ9 team will be able to measure pedestrian traffic throughout the event. </p>
          </div>
        </div>
        <div class="col-md-4">
            <div class="col-md-12">
          <span class="fa-stack fa-4x">
            <i class="fas fa-circle fa-stack-2x text-primary"></i>
            <i class="fas fa-chair fa-stack-1x fa-inverse"></i>
          </span>
          <h4 class="service-heading">Bluetooth Tracking</h4>
          <p class="row text-left"> Using Bluetooth trackers that have been installed in our custom-built furniture, the @SQ9 team will monitor furniture use and movement to determine whether our furniture has successfully activated @SQ9 as a public space.</p>
        </div>
      </div>
        <div class="col-md-4">
            <div class="col-md-12">
          <span class="fa-stack fa-4x">
            <i class="fas fa-circle fa-stack-2x text-primary"></i>
            <i class="fas fa-images fa-stack-1x fa-inverse"></i>
          </span>
          <h4 class="service-heading">Image Processing</h4>
          <p class="row text-left">Image processing will be used to track furniture movement throughout the @SQ9 event. Utilizing aerial imagery taken from MIT Building 9, the @SQ9 team use image processing to measure how and when visitors to @SQ9 use furniture.
</p>
        </div>
      </div>
      </div>
    </div>
  </section>

  <!-- Data Visualization-->
  <section id="dataviz">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Data Visualization</h2>
          <br>
          <h3> @SQ9 Activity Heat Map at <span id="h1_time">9 AM</span> on <u>Tuesday</u></h3>
          <br>
          <br>
          <div id="vis">
        </div>
    </div>
        </div>
    </div>
  </section>


  <!-- Features Grid -->
  <section class="bg-light" id="portfolio">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Features</h2>
          <h3 class="section-subheading text-muted"></h3>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 col-sm-6 portfolio-item">
          <a class="portfolio-link" data-toggle="modal" href="#portfolioModal1">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content">
                <i class="fas fa-plus fa-3x"></i>
              </div>
            </div>
            <img class="img-fluid" src="img/portfolio/siteplan.png" alt="">
          </a>
          <div class="portfolio-caption">
            <h4>Site Design</h4>
            <p class="text-muted"></p>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 portfolio-item">
          <a class="portfolio-link" data-toggle="modal" href="#portfolioModal2">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content">
                <i class="fas fa-plus fa-3x"></i>
              </div>
            </div>
            <img class="img-fluid" src="img/portfolio/furniture.png" alt="">
          </a>
          <div class="portfolio-caption">
            <h4>Furniture</h4>
            <p class="text-muted"></p>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 portfolio-item">
          <a class="portfolio-link" data-toggle="modal" href="#portfolioModal3">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content">
                <i class="fas fa-plus fa-3x"></i>
              </div>
            </div>
            <img class="img-fluid" src="img/portfolio/houseplant.jpg" alt="">
          </a>
          <div class="portfolio-caption">
            <h4>Programming</h4>
            <p class="text-muted"></p>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Schedule -->
  <section id="schedule">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Schedule</h2>
          <h3 class="section-subheading text-muted">@SQ9 will take place from May 7th to May 10th, 2019.</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <ul class="timeline">
            <li class="timeline-inverted">
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="img/about/pixels.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4>Tuesday, May 7th</h4>
                  <h4 class="subheading">Pixelated Plaza</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted"> On Tuesday, @SQ9 will be painted using a vibrant pixel pattern. Data will be collected to determine whether this new design feature affects the use patterns of the plaza. </p>
                </div>
              </div>
            </li>
            <li>
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="img/about/chair2.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4>Wednesday, May 8th</h4>
                  <h4 class="subheading">Sit Down @SQ9</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted"> Looking for a seat in front of Building 9? On Wednesday, @SQ9's custom-built furniture will be installed on the square. Data will be collected on use of this furniture.</p>
                </div>
              </div>
            </li>
            <li class="timeline-inverted">
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="img/about/plants2.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4> Thursday, May 9th</h4>
                  <h4 class="subheading">Programs @SQ9</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted"> Visit @SQ9 on Thursday and take part in our events, including a plant sale. </p>
                </div>
              </div>
            </li>
            <li>
              <div class="timeline-image">
                <img class="rounded-circle img-fluid" src="img/about/3.jpg" alt="">
              </div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h4>Friday, May 10th</h4>
                  <h4 class="subheading">Grand Finale</h4>
                </div>
                <div class="timeline-body">
                  <p class="text-muted">Come to @SQ9 on Friday for the full experience.</p>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Instagram -->
  <script src="https://apps.elfsight.com/p/platform.js" defer></script>
  <div class="elfsight-app-ae71e7c7-8dcb-4d15-b7c5-3d6d682d27fe"></div>

  <!-- Team -->
  <section class="bg-light" id="team">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Our Team</h2>
          <h3 class="section-subheading text-muted">Members of MIT DUSP Class 11.458</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/williams.jpg" alt="">
            <h4>Sarah Williams</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/dylan.jpg" alt="">
            <h4>Dylan Halpern</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/vanessa.png" alt="">
            <h4>Vanessa Toro Barragan</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/3.jpg" alt="">
            <h4>YuChen Chai</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/3.jpg" alt="">
            <h4>Yonghui Chen</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/isa.jpg" alt="">
            <h4>Isabelle Dupraz</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/joude.jpg" alt="">
            <h4>Joude El-Mabsout</h4>
            <p class="text-muted"></p>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="team-member">
        <img class="mx-auto rounded-circle" src="img/team/scott.png" alt="">
        <h4>Scott Gilman</h4>
        <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/moon.jpg" alt="">
            <h4>Moon He</h4>
            <p class="text-muted"></p>
                  </li>
                </ul>
              </div>
            </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/eunsu.png" alt="">
            <h4>Eunsu Kim</h4>
            <p class="text-muted"></p>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="team-member">
        <img class="mx-auto rounded-circle" src="img/team/mengfu.png" alt="">
        <h4>Mengfu Kuo</h4>
        <p class="text-muted"></p>
        <ul class="list-inline social-buttons">
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/moira.jpg" alt="">
            <h4>Moira McCrave</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/hadley.png" alt="">
            <h4>Hadley Piper</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-sm-2">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src="img/team/wonyoung.jpg" alt="">
            <h4>Wonyoung So</h4>
            <p class="text-muted"></p>
              </li>
            </ul>
          </div>
            </div>
          <div class="col-sm-2">
            <div class="team-member">
              <img class="mx-auto rounded-circle" src="img/team/victor.jpg" alt="">
              <h4>Victor Chohao Wu</h4>
              <p class="text-muted"></p>
                </li>
              </ul>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <p class="large text-muted"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Clients -->
  <section class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-6">
          <a href="https://dusp.mit.edu/" target = "blank">
            <img class="img-fluid d-block mx-auto" src="img/logos/MIT.jpg" alt="">
          </a>
        </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Contact Us</h2>
          <h3 class="section-subheading text-muted">Send us your thoughts on @SQ9.</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <form id="contactForm" name="sentMessage" novalidate="novalidate">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <input class="form-control" id="name" type="text" placeholder="Your Name *" required="required" data-validation-required-message="Please enter your name.">
                  <p class="help-block text-danger"></p>
                </div>
                <div class="form-group">
                  <input class="form-control" id="email" type="email" placeholder="Your Email *" required="required" data-validation-required-message="Please enter your email address.">
                  <p class="help-block text-danger"></p>
                </div>
                <div class="form-group">
                  <input class="form-control" id="phone" type="tel" placeholder="Your Phone">
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <textarea class="form-control" id="message" placeholder="Your Message *" required="required" data-validation-required-message="Please enter a message."></textarea>
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="clearfix"></div>
              <div class="col-lg-12 text-center">
                <div id="success"></div>
                <button id="sendMessageButton" class="btn btn-primary btn-xl text-uppercase" type="submit">Send Message</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <span class="copyright">Copyright &copy; 2019</span>
        </div>
        <div class="col-md-4">
          <ul class="list-inline social-buttons">
            <li class="list-inline-item">
              <a href="https://www.instagram.com/atsquarenine/" target= "blank">
                <i class="fab fa-instagram"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://www.facebook.com/atsquarenine/?eid=ARC4jmfewUAVvBAsVbl8hkii0sLuhpavPNBTyk0456FO7PNjTOS91Qfzw-ivkQcrfwntdL_pkot5ohus">
                <i class="fab fa-facebook-f"></i>
              </a>
            </li>
          </ul>
        </div>
        <div class="col-md-4">
          <ul class="list-inline quicklinks">
            <li class="list-inline-item">
              <a href="#">Privacy Policy</a>
            </li>
            <li class="list-inline-item">
              <a href="#">Terms of Use</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- Portfolio Modals -->

  <!-- Modal 1 -->
  <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
          <div class="lr">
            <div class="rl"></div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <div class="modal-body">
                <!-- Project Details Go Here -->
                <h2 class="text-uppercase">Site Design</h2>
                <p class="item-intro text-muted"> What will Square 9 look like?</p>
                <img class="img-fluid d-block mx-auto" src="img/portfolio/pixels2.jpg" alt="">
                <img class="img-fluid d-block mx-auto" src="img/portfolio/pixels.jpg" alt="">
                <p>The @SQ9 team has tested out a variety of colors for the temporary design of the Building 9 Plaza.</p>
                <ul class="list-inline">
                  <li></li>
                </ul>
                <button class="btn btn-primary" data-dismiss="modal" type="button">
                  <i class="fas fa-times"></i>
                  Close Project</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal 2 -->
  <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
          <div class="lr">
            <div class="rl"></div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <div class="modal-body">
                <!-- Project Details Go Here -->
                <h2 class="text-uppercase">Furniture</h2>
                <p class="item-intro text-muted">Custom chairs were created to track furniture usage during the @SQ9 event. </p>
                <img class="img-fluid d-block mx-auto" src="img/portfolio/cnc1.jpg" alt="">
                  <img class="img-fluid d-block mx-auto" src="img/portfolio/cnc2.jpg" alt="">
                  <img class="img-fluid d-block mx-auto" src="img/portfolio/cnc3.jpg" alt="">
                  <img class="img-fluid d-block mx-auto" src="img/portfolio/cnc4.jpg" alt="">
                <p>We designed custom furniture to sit on @SQ9. The chairs were designed to contain a bluetooth tracking device. All furniture was cut using a CNC machine, numbered with a laser engraved etching, and then assembled.</p>
                <ul class="list-inline">
                  <li>/li>
                </ul>
                <button class="btn btn-primary" data-dismiss="modal" type="button">
                  <i class="fas fa-times"></i>
                  Close Project</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal 3 -->
  <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="close-modal" data-dismiss="modal">
          <div class="lr">
            <div class="rl"></div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <div class="modal-body">
                <!-- Project Details Go Here -->
                <h2 class="text-uppercase">Programming</h2>
                <p class="item-intro text-muted">@SQ9 will host several events, including a plant sale.</p>
                <img class="img-fluid d-block mx-auto" src="img/portfolio/03-full.jpg" alt="">
                <p>To fund part of our project, the @SQ9 team be hosting a plant sale on Thursday, May 9th!</p>
                <ul class="list-inline">
                  <li></li>
                </ul>
                <button class="btn btn-primary" data-dismiss="modal" type="button">
                  <i class="fas fa-times"></i>
                  Close Project</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Contact form JavaScript -->
  <script src="js/jqBootstrapValidation.js"></script>
  <script src="js/contact_me.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/agency.min.js"></script>



  <script>
    var base_width = $('#vis').width();
    var raw;
    var data = [];
    var date = moment().format("YYYY-MM-DD%20HH:mm:ss");
    var url = 'https://crowdsourcedcity-api.herokuapp.com/api/devices_scanners.json?timestamp=' + date;
    var data_new = d3.json('./tuesday_data.json').then(function(root){
      var curr_hour = 9;
      var spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
        "data": {"values": root
        // dataExponentialKalman
        },
        "width": base_width*0.945,
        "height": base_width*0.531,
        "padding":{"left": 17, "top": 5, "right": 5, "bottom": 5},
        "autosize":{type: 'fit', resize:true},
        "config":{view: {strokeWidth: 0},axis:{domain:false}},
        "layer":[
          {
            "transform":[{
              "filter":{"field":"type","equal":"wifi"},
              "filter":{"field":"hour","equal":curr_hour}
                // {"field":"is_furniture","equal":false}
            }, {
              "filter":
                {"field": "x", "range": [0, 33]}
            }, {
              "filter":
                {"field": "y", "range": [0, 17]}
            }],
            "mark":{
              type: 'rect'},
            "encoding": {
              "x": {
                bin: {extent:[0,33],
                step: 0.5},
                field: 'x',
                type: 'quantitative',
                axis: {
                  // tickCount: 20,
                  ticks:false,
                  title:'',
                  labels:false,
                  grid: false,
                  domain:false
                }

              },
              "y": {
                bin: { extent: [0,17],
                      step:0.5 },
                field: 'y',
                type: 'quantitative',
                axis: {
                  // tickCount: 20,
                  title: '',
                  ticks:false,
                  labels:false,
                  grid: false,
                  domain:false
                },

              },
              "color": {
                field: 'people',
                aggregate: 'count',
                type: 'quantitative',
                legend:null,
                title:"# of People",
                scale: {"range": ["#EDE4E4", "#FF4D4D"]}
              },
              "opacity": {"value": 0.5
              },
              "tooltip":[
              // {type:"nominal",field:"y",value:"people"},
              {field:"x",aggregate:"count",type: "quantitative",title:"# of data"}]
            },
          },

          {
            "transform":[{
              "filter":
                {"field":"type","equal":"xxx"}
                // {"field":"is_furniture","equal":true}
            }, {
              "filter":
                {"field": "x", "range": [0, 33]}
            }, {
              "filter":
                {"field": "y", "range": [0, 17]}
            }],
            "mark": 'rect',
            "encoding": {
              "x": {
                bin: {extent:[0,33],
                step: 0.5},
                field: 'x',
                type: 'quantitative',
                axis: {
                  domain:false}
                //   // tickCount: 20,
                //   ticks:false,
                //   title:'',
                //   labels:false,
                // }

              },
              "y": {
                bin: { extent: [0,17],
                      step:0.5},
                field: 'y',
                type: 'quantitative',
                axis: {
                  domain:false}
                //   // tickCount: 20,
                //   title: '',
                //   ticks:false,
                // },

              },
              "color": {
                field: 'furniture',
                aggregate: 'count',
                type: 'quantitative',
                legend:null,
                scale:{
                  range: ["#D6EDE8", "#00CCDB"]
                }

              },
              "opacity": {
                value:0.6
              },
              "tooltip":{type:"nominal",value:"furniture"}

            },


          },
        ] ,

          "resolve": {"scale": {"color":"independent"}}
      }


        vegaEmbed('#vis', spec)
          // result.view provides access to the Vega View API
          .then(result => {
            console.log(result);

            var timeframeDate = moment().format("MMM D");
            var timeframeHour = moment().subtract(30, 'm').format("hh : mm A");
            // moment().add(1, 'h').format("hhA");

            var element = $("<div />");
            // element.text("hhh");
            element.append($(`<img src='SQ9map-01.gif' width=${base_width} />`));
            element.addClass("container");
            element.append('<div class="time">'+
            // +timeframeDate+' &nbsp;&nbsp;from '+timeframeHour+' to current'+

            '</div>');
            $("#vis").append(element);

          })
          .catch(console.warn);

      setInterval(function(){
      $('#eapps-instagram-feed-1 a:nth-of-type(2)').fadeOut(); // instagram widget fix
      
      if (curr_hour > 17) { curr_hour = 9
      } else if ((curr_hour == 11) || (curr_hour == 14)){
        curr_hour+=2
      } else {
        curr_hour+=1}
        console.log(curr_hour)
      if (curr_hour < 12) {
        $('#h1_time').html(`${curr_hour} AM`) 
      } else if (curr_hour == 12){
        $('#h1_time').html(`${curr_hour} PM`)
      } else {
        $('#h1_time').html(`${curr_hour-12} PM`)
      }
      
        const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
      "data": {"values": root
      // dataExponentialKalman
      },
      "width": base_width*0.945,
      "height": base_width*0.531,
      "padding":{"left": 17, "top": 5, "right": 5, "bottom": 5},
      "autosize":{type: 'fit', resize:true},
      "config":{view: {strokeWidth: 0},axis:{domain:false}},
      "layer":[
        {
          "transform":[{
            "filter":{"field":"type","equal":"wifi"},
            "filter":{"field":"hour","equal":curr_hour}
              // {"field":"is_furniture","equal":false}
          }, {
            "filter":
              {"field": "x", "range": [0, 33]}
          }, {
            "filter":
              {"field": "y", "range": [0, 17]}
          }],
          "mark":{
            type: 'rect'},
          "encoding": {
            "x": {
              bin: {extent:[0,33],
              step: 0.5},
              field: 'x',
              type: 'quantitative',
              axis: {
                // tickCount: 20,
                ticks:false,
                title:'',
                labels:false,
                grid: false,
                domain:false
              }

            },
            "y": {
              bin: { extent: [0,17],
                    step:0.5 },
              field: 'y',
              type: 'quantitative',
              axis: {
                // tickCount: 20,
                title: '',
                ticks:false,
                labels:false,
                grid: false,
                domain:false
              },

            },
            "color": {
              field: 'people',
              aggregate: 'count',
              type: 'quantitative',
              legend:null,
              title:"# of People",
              scale: {"range": ["#EDE4E4", "#FF4D4D"]}
            },
            "opacity": {"value": 0.5
            },
            "tooltip":[
            // {type:"nominal",field:"y",value:"people"},
            {field:"x",aggregate:"count",type: "quantitative",title:"# of data"}]
          },
        },

        {
          "transform":[{
            "filter":
              {"field":"type","equal":"xxx"}
              // {"field":"is_furniture","equal":true}
          }, {
            "filter":
              {"field": "x", "range": [0, 33]}
          }, {
            "filter":
              {"field": "y", "range": [0, 17]}
          }],
          "mark": 'rect',
          "encoding": {
            "x": {
              bin: {extent:[0,33],
              step: 0.5},
              field: 'x',
              type: 'quantitative',
              axis: {
                domain:false}
              //   // tickCount: 20,
              //   ticks:false,
              //   title:'',
              //   labels:false,
              // }

            },
            "y": {
              bin: { extent: [0,17],
                    step:0.5},
              field: 'y',
              type: 'quantitative',
              axis: {
                domain:false}
              //   // tickCount: 20,
              //   title: '',
              //   ticks:false,
              // },

            },
            "color": {
              field: 'furniture',
              aggregate: 'count',
              type: 'quantitative',
              legend:null,
              scale:{
                range: ["#D6EDE8", "#00CCDB"]
              }

            },
            "opacity": {
              value:0.6
            },
            "tooltip":{type:"nominal",value:"furniture"}

          },


        },
      ] ,

        "resolve": {"scale": {"color":"independent"}}
    }

                  vegaEmbed('#vis', spec)
                  // result.view provides access to the Vega View API
                  .then(result => {
                    console.log(result);

                    var timeframeDate = moment().format("MMM D");
                    var timeframeHour = moment().subtract(30, 'm').format("hh : mm A");
                    // moment().add(1, 'h').format("hhA");

                    var element = $("<div />");
                    // element.text("hhh");
                    element.append($(`<img src='SQ9map-01.gif' width=${base_width} />`));
                    element.addClass("container");
                    
                    $("#vis").append(element);

                  })
                  .catch(console.warn);

              // console.log(data)
            },10000)
  
          });
  </script>

</body>

</html>
